# hass-PVU

[![License: MIT](https://img.shields.io/github/license/Gfermoto/hass-PVU)](./LICENSE)
[![Validate](https://github.com/Gfermoto/hass-PVU/actions/workflows/validate.yml/badge.svg)](https://github.com/Gfermoto/hass-PVU/actions/workflows/validate.yml)

Blueprint –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏—Ç–æ—á–Ω–æ-–≤—ã—Ç—è–∂–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–ü–í–£) Turkov –≤ Home Assistant: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–µ–π –∏ –≤–æ–∑–¥—É—Ö–æ–æ–±–º–µ–Ω–æ–º –ø–æ CO2/IAQ, –ø–æ–¥–æ–≥—Ä–µ–≤ –ø—Ä–∏—Ç–æ—á–Ω–æ–≥–æ –≤–æ–∑–¥—É—Ö–∞ –≤ –º–æ—Ä–æ–∑, –∞–Ω—Ç–∏–∑–∞–º–æ—Ä–æ–∑–∫–∞, ECO —Ä–µ–∂–∏–º, –ø–æ–ª–∏—Ç–∏–∫–∏ –≤ —Ä–µ–∂–∏–º–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è.

**–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ:** [–û–ø–∏—Å–∞–Ω–∏–µ](#–æ–ø–∏—Å–∞–Ω–∏–µ) ¬∑ [–í–∞—Ä–∏–∞–Ω—Ç—ã blueprint](#–≤–∞—Ä–∏–∞–Ω—Ç—ã-blueprint) ¬∑ [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç-3-—à–∞–≥–∞) ¬∑ [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏-–∞–∫—Ç—É–∞–ª—å–Ω–æ-–¥–ª—è-pvuyaml) ¬∑ [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞) ¬∑ [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞-–∏-–∫–∞—á–µ—Å—Ç–≤–æ) ¬∑ [–ü–æ–¥–¥–µ—Ä–∂–∫–∞](#–ø–æ–¥–¥–µ—Ä–∂–∫–∞-–∏-–æ–±—Ä–∞—Ç–Ω–∞—è-—Å–≤—è–∑—å)

---

### –û–ø–∏—Å–∞–Ω–∏–µ

–ì–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏—Ç–æ—á–Ω–æ-–≤—ã—Ç—è–∂–Ω–æ–π –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏ –Ω–∞ –±–∞–∑–µ Home Assistant –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è Turkov. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π –∏ —Å–∫–æ—Ä–æ—Å—Ç—å—é –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ –ø–æ —Å—Ü–µ–Ω–∞—Ä–∏—è–º day/night/away, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –Ω–∞—Ä—É–∂–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞—Ç—á–∏–∫–∏ CO2/PM2.5 –∏ –¥—Ä. –î–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å—Ç–∞–±–∏–ª—å–Ω—ã–π (`pvu_min.yaml`) –∏ –ø–æ–ª–Ω—ã–π —Å –ø—Ä–æ—Ñ–∏–ª—è–º–∏ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π (`pvu.yaml`).

### Changelog

–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª: [`CHANGELOG.md`](./CHANGELOG.md).

### –í–∞—Ä–∏–∞–Ω—Ç—ã blueprint

| –ü–∞—Ä–∞–º–µ—Ç—Ä | `pvu_min.yaml` | `pvu.yaml` |
|---|---|---|
| –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–π –∫–æ–Ω—Ç—É—Ä | ‚úÖ | ‚úÖ |
| –í–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä –ø–æ IAQ | ‚úÖ | ‚úÖ |
| –ê–Ω—Ç–∏–∑–∞–º–æ—Ä–æ–∑–∫–∞ | ‚úÖ | ‚úÖ |
| Anti-flap (min_interval) | ‚ùå | ‚úÖ |
| –ü—Ä–æ—Ñ–∏–ª–∏ –∫–ª–∏–º–∞—Ç–∞/–∂–∏–ª—å—è | ‚ùå | ‚úÖ |
| –ü–æ–ª–∏—Ç–∏–∫–∏ away=off | ‚ùå | ‚úÖ |
| ECO —Ä–µ–∂–∏–º | ‚ùå | ‚úÖ |
| –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ / debug_mode | ‚ùå | ‚úÖ |
| –ü–ª–∞–≤–Ω—ã–π —Å–ø–∞–¥ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ | ‚ùå | ‚úÖ |
| `outdoor_vent_min` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | `0 ¬∞C` | `3 ¬∞C` |
| `outdoor_cool_min` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | `18 ¬∞C` | `20 ¬∞C` |
| `temp_hysteresis_on` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | `1.0` | `1.2` |

–†–∞–∑–ª–∏—á–∏—è –¥–µ—Ñ–æ–ª—Ç–æ–≤ –æ–±—ä—è—Å–Ω—è—é—Ç—Å—è —Ç–µ–º, —á—Ç–æ `pvu.yaml` –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç –ø–æ—Ä–æ–≥–∏ —á–µ—Ä–µ–∑ `climate_profile`; –¥–ª—è `pvu_min` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è ¬´—Å—ã—Ä—ã–µ¬ª –∑–Ω–∞—á–µ–Ω–∏—è –±–µ–∑ –ø—Ä–æ—Ñ–∏–ª–µ–π.

> **v0.7.0+**: –ø–∞—Ä–∞–º–µ—Ç—Ä `temp_hysteresis_off` —É–¥–∞–ª—ë–Ω –∏–∑ –æ–±–æ–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤. –ï—Å–ª–∏ –æ–Ω –±—ã–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω ‚Äî –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ blueprint –ø–æ–ª–µ –ø—Ä–æ—Å—Ç–æ –∏—Å—á–µ–∑–Ω–µ—Ç –∏–∑ UI –±–µ–∑ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã
1. **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä**: Home Assistant
   - –í–µ—Ä—Å–∏—è: 2023.12.0 –∏–ª–∏ –Ω–æ–≤–µ–µ
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

2. **–í–µ–Ω—Ç–∏–ª—è—Ü–∏–æ–Ω–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞**: 
   - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å: Turkov
   - –ú–æ–¥–µ–ª—å: —Å —Ä–µ–∫—É–ø–µ—Ä–∞—Ü–∏–µ–π —Ç–µ–ø–ª–∞ –∏ –≤–ª–∞–≥–∏ (3 —Å—Ç—É–ø–µ–Ω–∏ —Ä–µ–∫—É–ø–µ—Ä–∞—Ü–∏–∏)
   - –†–∞–±–æ—á–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä: –¥–æ -35¬∞C
   - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: **ModBus RTU –ø–æ IP** –∏/–∏–ª–∏ **MQTT** (Wi‚ÄëFi –º–æ–¥—É–ª—å, –ø—Ä–æ—à–∏–≤–∫–∞ 2.0.0+)

   **–†–µ—Ñ–µ—Ä–µ–Ω—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ blueprint**:
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞: **Zenit Heco V 350 1,5E (EPP)**.
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –≤–Ω–µ—à–Ω–∏–π –æ—Ö–ª–∞–¥–∏—Ç–µ–ª—å + —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π –Ω–∞–≥—Ä–µ–≤–∞—Ç–µ–ª—å.
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–µ–∂–∏–º—ã HVAC –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏: `off`, `fan_only`, `heat`, `cool` (–±–µ–∑ `dry`).

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Turkov** (–æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤):
   - **[hass-turkov](https://github.com/alryaz/hass-turkov)** ‚Äî –ø–æ IP (ModBus RTU), climate-—Å—É—â–Ω–æ—Å—Ç—å –≤ HA
   - **MQTT** ‚Äî —Ç–æ–ø–∏–∫–∏ –≤–∏–¥–∞ `turkov/<—Å–µ—Ä–∏–π–Ω—ã–π_–Ω–æ–º–µ—Ä>/...`, —Å–º. —Ä–∞–∑–¥–µ–ª ¬´–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Turkov –ø–æ MQTT¬ª –Ω–∏–∂–µ

4. **–î–∞—Ç—á–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞ –≤–æ–∑–¥—É—Ö–∞**: [AirGradient](https://www.airgradient.com/)
   - –ò–∑–º–µ—Ä—è–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
     * CO‚ÇÇ (0-40000 ppm)
     * –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (-10 –¥–æ +60¬∞C)
     * –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –≤–ª–∞–∂–Ω–æ—Å—Ç—å (0-100%)
     * PM2.5, VOC Index, NOx Index (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –≤ –ª—é–±–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏)
     * –î–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ, —Ç–∞–∫ –∏ –Ω–∞—Ä—É–∂–Ω—ã–µ —Å–µ–Ω—Å–æ—Ä—ã
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
     * WiFi –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
     * MQTT –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
     * –û—Ç–∫—Ä—ã—Ç—ã–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
     * DIY —Å–±–æ—Ä–∫–∞ –∏–ª–∏ –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (3 —à–∞–≥–∞)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é Turkov –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ä–∞–±–æ—á—É—é `climate`-—Å—É—â–Ω–æ—Å—Ç—å (—á–µ—Ä–µ–∑ `hass-turkov` –∏–ª–∏ `climate.mqtt`).
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ HA –µ—Å—Ç—å –¥–≤–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–∞:
   - —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏ (`sensor` —Å `device_class: temperature`);
   - –≤–ª–∞–∂–Ω–æ—Å—Ç—å –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏ (`sensor` —Å `device_class: humidity`).
3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ `pvu.yaml`, –≤—ã–±–µ—Ä–∏—Ç–µ `climate` + 2 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–∞, —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é.

–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—á–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É–∂–µ –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –Ω–∞—á–Ω–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å HVAC –∏ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–æ–º. –û—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∞—Ç—á–∏–∫–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ.

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (–∞–∫—Ç—É–∞–ª—å–Ω–æ –¥–ª—è `pvu.yaml`)

#### 1. –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞ HVAC

–ü–í–£ ‚Äî **–≤–µ–Ω—Ç–∏–ª—è—Ü–∏–æ–Ω–Ω–æ–µ** —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –∞ –Ω–µ –æ—Å–Ω–æ–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–æ–ø–ª–µ–Ω–∏—è (—Ç–µ–ø–ª–æ –¥–∞—é—Ç —Ä–∞–¥–∏–∞—Ç–æ—Ä—ã/—Ç—ë–ø–ª—ã–π –ø–æ–ª). Blueprint —É–ø—Ä–∞–≤–ª—è–µ—Ç **–≤–æ–∑–¥—É—Ö–æ–æ–±–º–µ–Ω–æ–º** –∫–∞–∫ –ø–µ—Ä–≤–∏—á–Ω–æ–π –∑–∞–¥–∞—á–µ–π.

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞:

| –£—Å–ª–æ–≤–∏–µ | –†–µ–∂–∏–º |
|---|---|
| `away=off` | `off` |
| ECO –∞–∫—Ç–∏–≤–µ–Ω (–≤—Å–µ –¥–∞—Ç—á–∏–∫–∏ < ECO-–ø–æ—Ä–æ–≥–æ–≤) | `off` |
| –ú–æ—Ä–æ–∑ —Å–Ω–∞—Ä—É–∂–∏ (`outdoor < outdoor_vent_min`) | `heat` ‚Äî –ø–æ–¥–æ–≥—Ä–µ–≤ –ø—Ä–∏—Ç–æ—á–Ω–æ–≥–æ –≤–æ–∑–¥—É—Ö–∞ |
| –ñ–∞—Ä–∫–æ –≤–Ω—É—Ç—Ä–∏ + –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ | `cool` |
| –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | `fan_only` ‚Äî –≤–µ–Ω—Ç–∏–ª—è—Ü–∏—è —Å —Ä–µ–∫—É–ø–µ—Ä–∞—Ü–∏–µ–π |

- `fan_only` ‚Äî —Ä–µ–∂–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–µ–Ω—Ç–∏–ª–∏—Ä—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ, –ø–æ–∫–∞ ECO –∏–ª–∏ away=off –Ω–µ —Å–∫–∞–∂—É—Ç –∏–Ω–∞—á–µ.
- `heat` ‚Äî **–ø–æ–¥–æ–≥—Ä–µ–≤ –ø—Ä–∏—Ç–æ—á–Ω–æ–≥–æ –≤–æ–∑–¥—É—Ö–∞**, –Ω–µ –Ω–∞–≥—Ä–µ–≤ –ø–æ–º–µ—â–µ–Ω–∏—è. –í–∫–ª—é—á–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –º–æ—Ä–æ–∑–µ —Å–Ω–∞—Ä—É–∂–∏.
- `cool` ‚Äî –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ –ø—Ä–∏—Ç–æ—á–Ω–æ–≥–æ –≤–æ–∑–¥—É—Ö–∞. –í–∫–ª—é—á–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏ –∂–∞—Ä–∫–æ (–≤—ã—à–µ `target + temp_hysteresis_on`) –∏ –Ω–∞—Ä—É–∂–Ω—ã–π –≤–æ–∑–¥—É—Ö –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ö–æ–ª–æ–¥–Ω—ã–π.
- –£—Å—Ç–∞–≤–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (`temp_day`/`temp_night`/`temp_away`) –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ **setpoint –ø—Ä–∏—Ç–æ—á–Ω–æ–≥–æ –≤–æ–∑–¥—É—Ö–∞**.
- –ö–æ–º–∞–Ω–¥—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ –¥–≤–∞ —à–∞–≥–∞:
  1. `climate.set_temperature` (—É—Å—Ç–∞–≤–∫–∞, –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å, –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ `desired=off`);
  2. `climate.set_hvac_mode` (–µ—Å–ª–∏ —Ü–µ–ª–µ–≤–æ–π —Ä–µ–∂–∏–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ).
- –î–ª—è HVAC –¥–æ–±–∞–≤–ª–µ–Ω anti-flap: `hvac_min_switch_minutes` ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è–º–∏.

#### 2. –ê–Ω—Ç–∏–∑–∞–º–æ—Ä–æ–∑–∫–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –Ω–∞—Ä—É–∂–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ
- –û—Ö–ª–∞–∂–¥–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `temp_outdoor > outdoor_cool_min`.
- HVAC-–≤–µ–Ω—Ç–∏–ª—è—Ü–∏—è (`fan_only`) —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `temp_outdoor > outdoor_vent_min`.
- –ï—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –≤ "–∑–æ–Ω–µ –Ω–æ—Ä–º—ã", –Ω–æ `fan_only` –∑–∞–ø—Ä–µ—â–µ–Ω –ø–æ —Ö–æ–ª–æ–¥—É —Å–Ω–∞—Ä—É–∂–∏, –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è `heat` –∫–∞–∫ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π fallback.
- –ù–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `outdoor_temp_policy`:
  - `conservative` ‚Äî –µ—Å–ª–∏ –¥–∞—Ç—á–∏–∫ —É–ª–∏—Ü—ã –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, `cooling/fan_only` –Ω–µ —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è;
  - `permissive` ‚Äî –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–º –¥–∞—Ç—á–∏–∫–µ —É–ª–∏—Ü—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ `temp_outdoor` –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è.

#### 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç—å—é –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞
- –õ–æ–≥–∏–∫–∞ 3 —Å—Ç—É–ø–µ–Ω–µ–π: `low` -> `medium` -> `high`.
- –ò—Å—Ç–æ—á–Ω–∏–∫–∏ —Ä–∞–∑–≥–æ–Ω–∞: –≤–ª–∞–∂–Ω–æ—Å—Ç—å –∏/–∏–ª–∏ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ –≤–æ–∑–¥—É—Ö–∞ –≤–Ω—É—Ç—Ä–∏ (CO2/PM2.5/VOC/NOx).
- –ù–∞—Ä—É–∂–Ω—ã–µ –¥–∞—Ç—á–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –≤–æ–∑–¥—É—Ö–∞ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Ä–∞–∑–≥–æ–Ω (–ø—Ä–∏ –ø–ª–æ—Ö–æ–º –Ω–∞—Ä—É–∂–Ω–æ–º –≤–æ–∑–¥—É—Ö–µ –º–∞–∫—Å–∏–º—É–º `medium`).
- –ü–ª–∞–≤–Ω—ã–π —Å–ø–∞–¥ —Å–∫–æ—Ä–æ—Å—Ç–∏ (`fan_stepdown_enabled`, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á—ë–Ω): –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –≤–æ–∑–¥—É—Ö–∞ –ø–µ—Ä–µ—Ö–æ–¥ –∏–¥—ë—Ç —Å—Ç—É–ø–µ–Ω—á–∞—Ç–æ `high ‚Üí medium ‚Üí low`, –∞ –Ω–µ —Å–∫–∞—á–∫–æ–º.

#### 4. –ü—Ä–æ—Ñ–∏–ª–∏ –∫–ª–∏–º–∞—Ç–∞ –∏ –∂–∏–ª—å—è (–≠—Ç–∞–ø 3)
- `climate_profile`:
  - `continental` ‚Äî –±–∞–∑–æ–≤—ã–π —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å;
  - `mild` ‚Äî –º—è–≥—á–µ –ø–æ—Ä–æ–≥–∏ anti-freeze/–æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è –∏ —á—É—Ç—å –±–æ–ª–µ–µ —Ä–∞–Ω–Ω—è—è —Ä–µ–∞–∫—Ü–∏—è;
  - `cold` ‚Äî –±–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ anti-freeze/–æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ –∏ –ø–æ–≤—ã—à–µ–Ω–Ω—ã–π –≥–∏—Å—Ç–µ—Ä–µ–∑–∏—Å.
- `home_profile`:
  - `house` ‚Äî –±–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–º–µ–Ω–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ IAQ, –ø–æ—Ä–æ–≥–∏ –≤—ã—à–µ);
  - `apartment` ‚Äî –±–æ–ª–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è IAQ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ `house`;
  - `office` ‚Äî –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ IAQ (–ø–æ—Ä–æ–≥–∏ –Ω–∏–∂–µ).
- –ü—Ä–æ—Ñ–∏–ª–∏ –≤–ª–∏—è—é—Ç –Ω–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ –∏ –æ—Ç—Ä–∞–∂–∞—é—Ç—Å—è –≤ `debug_mode`.
- –î–µ—Ñ–æ–ª—Ç–Ω—ã–π —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –Ω–∞–±–æ—Ä (–ø–æ–¥ –∑–∞–≥–æ—Ä–æ–¥–Ω—ã–π –¥–æ–º, –∫–ª–∏–º–∞—Ç –ú–û):
  - `climate_profile=continental`, `home_profile=house`;
  - `temp_hysteresis_on=1.2`;
  - `outdoor_cool_min=20`, `outdoor_vent_min=3`.

#### 5. Presence –∏ —Ä–µ–∂–∏–º –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫–∏: `binary_sensor`, `person/group`, `alarm_control_panel`, `custom`.
- –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω `presence_mode: alarm`, –Ω–æ —É–∫–∞–∑–∞–Ω–∞ –Ω–µ alarm-—Å—É—â–Ω–æ—Å—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä `group.*`), –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω—ã–π fallback –ø–æ `not_home/off`.
- –ü–∞—Ä–∞–º–µ—Ç—Ä `away_behavior`:
  - `maintain`: –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —É—Å—Ç–∞–≤–∫—É `temp_away`;
  - `off`: –≤—ã–∫–ª—é—á–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É.
- –ü–æ–ª–∏—Ç–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è `away=off` –¥–ª—è HVAC (`away_off_hvac_policy`):
  - `respect_min_interval` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é): —Ä–µ–∂–∏–º `off` –ø–æ–¥—á–∏–Ω—è–µ—Ç—Å—è `hvac_min_switch_minutes`;
  - `immediate`: —Ä–µ–∂–∏–º `off` –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Å—Ä–∞–∑—É, –±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è anti-flap –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞.
- –ü–æ–ª–∏—Ç–∏–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–æ–º –≤ `away=off` (`away_off_fan_policy`):
  - `hvac_only` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é): –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å `fan_mode=off` (–∑–∞—â–∏—Ç–∞ –æ—Ç coupling fan->HVAC –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö);
  - `follow_fan_mode`: –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å `fan_mode=off` –≤–º–µ—Å—Ç–µ —Å `away=off`.

–ö–æ—Ä–æ—Ç–∫–∞—è policy matrix –¥–ª—è `away=off`:

| `away_off_hvac_policy` | `away_off_fan_policy` | –ü–æ–≤–µ–¥–µ–Ω–∏–µ |
| --- | --- | --- |
| `respect_min_interval` | `hvac_only` | HVAC –ø–µ—Ä–µ–π–¥—ë—Ç –≤ `off` –ø–æ—Å–ª–µ anti-flap –æ–∫–Ω–∞; `fan_mode` –æ—Ç–¥–µ–ª—å–Ω–æ –Ω–µ —Ñ–æ—Ä—Å–∏—Ä—É–µ—Ç—Å—è. |
| `respect_min_interval` | `follow_fan_mode` | HVAC –ø–µ—Ä–µ–π–¥—ë—Ç –≤ `off` –ø–æ—Å–ª–µ anti-flap –æ–∫–Ω–∞; –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è `fan_mode=off`. |
| `immediate` | `hvac_only` | HVAC —É—Ö–æ–¥–∏—Ç –≤ `off` —Å—Ä–∞–∑—É; `fan_mode` –æ—Ç–¥–µ–ª—å–Ω–æ –Ω–µ —Ñ–æ—Ä—Å–∏—Ä—É–µ—Ç—Å—è. |
| `immediate` | `follow_fan_mode` | HVAC —É—Ö–æ–¥–∏—Ç –≤ `off` —Å—Ä–∞–∑—É; –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è `fan_mode=off`. |

#### 6. Fail-safe –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥
- –ü–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–∞–º–∏ `climate.set_hvac_mode` / `climate.set_fan_mode` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:
  - —Ü–µ–ª–µ–≤–æ–π —Ä–µ–∂–∏–º –Ω–µ –ø—É—Å—Ç–æ–π;
  - —Ü–µ–ª–µ–≤–æ–π —Ä–µ–∂–∏–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ;
  - —Ü–µ–ª–µ–≤–æ–π —Ä–µ–∂–∏–º –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ `hvac_modes` / `fan_modes` —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
- –î–ª—è HVAC –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π (`hvac_min_switch_minutes`), —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —á–∞—Å—Ç—ã—Ö –¥–µ—Ä–≥–∞–Ω–∏–π —Ä–µ–∂–∏–º–∞.
- –î–ª—è `away=off` –ø–æ–≤–µ–¥–µ–Ω–∏–µ anti-flap –∑–∞–¥–∞—ë—Ç—Å—è —è–≤–Ω–æ —á–µ—Ä–µ–∑ `away_off_hvac_policy` (—á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–≤–∞–ª –∏–ª–∏ —Å—Ä–∞–∑—É).
- –î–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∫–æ–π fan/HVAC –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–∏—Ç–∏–∫–∞ `away_off_fan_policy`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –Ω–µ—è–≤–Ω–æ–≥–æ –≤—ã–∫–ª—é—á–µ–Ω–∏—è HVAC —á–µ—Ä–µ–∑ `fan_mode=off`.
- –≠—Ç–æ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –æ—à–∏–±–æ–∫ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —Å –Ω–µ–ø–æ–ª–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º —Ä–µ–∂–∏–º–æ–≤.
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å `climate`-—Å—É—â–Ω–æ—Å—Ç–∏ (`unavailable/unknown` –Ω–µ –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è –∫ —Å–µ—Ä–≤–∏—Å-–≤—ã–∑–æ–≤–∞–º).
- –í–∞–∂–Ω–æ: –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ `cool` / `fan_only` –≤ —Ä–µ–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ —Å–∞–º–∏–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º, –ø—Ä–æ—à–∏–≤–∫–æ–π, —Ä–µ–∂–∏–º–æ–º —Å–µ–∑–æ–Ω–∞ –∏–ª–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ –∑–∞—â–∏—Ç–∞–º–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏. –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞, –Ω–æ —Ä–µ–∂–∏–º –Ω–µ —Å–º–µ–Ω–∏–ª—Å—è, —ç—Ç–æ –Ω–µ –≤—Å–µ–≥–¥–∞ –æ—à–∏–±–∫–∞ blueprint.

#### 7. ECO —Ä–µ–∂–∏–º (`pvu.yaml`)

- –í–∫–ª—é—á–∞–µ—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `eco_mode_enabled` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–∫–ª—é—á–µ–Ω).
- –ï—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω –∏ –≤—Å–µ **–∞–∫—Ç–∏–≤–Ω—ã–µ** –¥–∞—Ç—á–∏–∫–∏ –≤–æ–∑–¥—É—Ö–∞ –Ω–∏–∂–µ —Å–≤–æ–∏—Ö ECO-–ø–æ—Ä–æ–≥–æ–≤ ‚Üí `hvac_mode=off`.
- –î–∞—Ç—á–∏–∫–∏, –Ω–µ —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ–∫—Ü–∏–∏, –≤ ECO-–ø—Ä–æ–≤–µ—Ä–∫–µ –Ω–µ —É—á–∞—Å—Ç–≤—É—é—Ç.
- –ï—Å–ª–∏ –Ω–∏ –æ–¥–∏–Ω –¥–∞—Ç—á–∏–∫ –Ω–µ –∑–∞–¥–∞–Ω ‚Äî ECO –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è (–Ω–µ—Ç —Å–º—ã—Å–ª–∞ –≤—ã–∫–ª—é—á–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –±–µ–∑ –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–æ–∑–¥—É—Ö–∞).
- –ü—Ä–∏ —É—Ö—É–¥—à–µ–Ω–∏–∏ –≤–æ–∑–¥—É—Ö–∞ (—Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –¥–∞—Ç—á–∏–∫ –≤—ã—à–µ –ø–æ—Ä–æ–≥–∞) –≤–∫–ª—é—á–∞–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ (–∞–Ω—Ç–∏–∑–∞–º–æ—Ä–æ–∑–∫–∞, `outdoor_temp_policy`, –≤–µ–Ω—Ç–∏–ª—è—Ü–∏—è).
- ECO –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ `away_behavior=maintain`; –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —É–∂–µ –≤—ã–∫–ª—é—á–µ–Ω–∞ –ø–æ `away=off`, ECO –Ω–µ –≤–ª–∏—è–µ—Ç.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `hvac_min_switch_minutes` –∫–∞–∫ anti-flap.
- –û—Ç–¥–µ–ª—å–Ω–∞—è —Å–µ–∫—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ ¬´üçÉ ECO —Ä–µ–∂–∏–º¬ª: `eco_co2_max`, `eco_pm25_max`, `eco_voc_max`, `eco_no_max`, `eco_humidity_max`.

#### 8. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (–ø–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è)

- –ü–∞—Ä–∞–º–µ—Ç—Ä `debug_mode` –≤–∫–ª—é—á–∞–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ `persistent_notification`.
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç:
  - —Ç–µ–∫—É—â–∏–µ/—Ü–µ–ª–µ–≤—ã–µ —Ä–µ–∂–∏–º—ã;
  - –ø—Ä–∏—á–∏–Ω—ã, –ø–æ—á–µ–º—É —Ä–µ–∂–∏–º –Ω–µ –ø—Ä–∏–º–µ–Ω—ë–Ω (`desired_empty`, `already_set`, `unsupported_mode`, `min_interval_hold`, `climate_unavailable`);
  - –∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ `climate_profile` –∏ `home_profile`;
  - –ø—Ä–∏—á–∏–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è `temp_outdoor` –ø—Ä–∏ `conservative`);
  - —Ä–∞—Å—á—ë—Ç–Ω—ã–µ —Ñ–ª–∞–≥–∏ (`cool_allowed`, `vent_allowed`, `air_boost_count`);
  - —Å–æ—Å—Ç–æ—è–Ω–∏–µ ECO: `eco_active`, `eco_has_sensors`, `eco_all_ok` –∏ —Ñ–ª–∞–≥–∏ –ø–æ –∫–∞–∂–¥–æ–º—É –¥–∞—Ç—á–∏–∫—É.
- Post-check –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ `command_verify_delay_sec`: –µ—Å–ª–∏ state –Ω–µ —Å–æ–≤–ø–∞–ª —Å –æ–∂–∏–¥–∞–µ–º—ã–º —á–µ—Ä–µ–∑ N —Å–µ–∫—É–Ω–¥ ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.
- **–ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞, –Ω–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –µ—ë –Ω–µ –ø—Ä–∏–Ω—è–ª–æ:**
  1. –í–∫–ª—é—á–∏—Ç–µ `debug_mode` –∏ –∑–∞–¥–∞–π—Ç–µ `command_verify_delay_sec` (8‚Äì10 —Å).
  2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ post-check: `expected_*` vs `actual_*`.
  3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ä–µ–∂–∏–º –µ—Å—Ç—å –≤ –∞—Ç—Ä–∏–±—É—Ç–µ `hvac_modes` —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (Developer Tools ‚Üí States ‚Üí climate-—Å—É—â–Ω–æ—Å—Ç—å).
  4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `outdoor_temp_policy`: –ø—Ä–∏ `conservative` –±–µ–∑ –Ω–∞—Ä—É–∂–Ω–æ–≥–æ –¥–∞—Ç—á–∏–∫–∞ `cool`/`fan_only` –Ω–µ —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è.
  5. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ `away_off_fan_policy` –≤ `hvac_only` –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å coupling fan‚ÜíHVAC.

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Home Assistant**: —Å–ª–µ–¥—É–π—Ç–µ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏](https://www.home-assistant.io/installation/).

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Turkov** (–ø–æ IP):
   - –î–æ–±–∞–≤—å—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ HACS
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
   - –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ Home Assistant

   **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Turkov –ø–æ MQTT** (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –∏–ª–∏ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ IP):
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [Turkov ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ MQTT](https://turkov.ru/blog/articles/podklyuchenie_oborudovaniya_k_sistemam_umnyy_dom_po_protokolu_mqtt/)
   - –ù—É–∂–µ–Ω Wi‚ÄëFi –º–æ–¥—É–ª—å —Å –ø—Ä–æ—à–∏–≤–∫–æ–π **2.0.0** –∏ –≤—ã—à–µ.
   - –ë–∞–∑–æ–≤—ã–π –ø—É—Ç—å —Ç–æ–ø–∏–∫–æ–≤: **`turkov/<—Å–µ—Ä–∏–π–Ω—ã–π_–Ω–æ–º–µ—Ä>/...`** (—Å–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä –≤–∏–¥–∞ `X-XXXXXX-XX`, —É–∫–∞–∑–∞–Ω –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –∏ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ `http://turkov-X-XXXXXX-XX.local/`).

   **–¢–æ–ø–∏–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π** (—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø—É–±–ª–∏–∫—É–µ—Ç):
   | –¢–æ–ø–∏–∫ | –û–ø–∏—Å–∞–Ω–∏–µ |
   |------|----------|
   | `turkov/<serial>/status` | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: `online` / `offline` |
   | `turkov/<serial>/state/on` | –í–∫–ª/–≤—ã–∫–ª |
   | `turkov/<serial>/state/fan_speed` | –°–∫–æ—Ä–æ—Å—Ç—å –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–æ–≤ |
   | `turkov/<serial>/state/fan_mode` | –†–µ–∂–∏–º –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–æ–≤ |
   | `turkov/<serial>/state/temp_sp` | –£—Å—Ç–∞–≤–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã |
   | `turkov/<serial>/state/indoor_temperature` | –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏ |
   | `turkov/<serial>/state/outdoor_temperature` | –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Å —É–ª–∏—Ü—ã |
   | `turkov/<serial>/state/supply_temperature` | –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø—Ä–∏—Ç–æ–∫–∞ |
   | `turkov/<serial>/state/indoor_humidity` | –í–ª–∞–∂–Ω–æ—Å—Ç—å –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏ |
   | `turkov/<serial>/state/filter` | –ó–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ |

   **–¢–æ–ø–∏–∫–∏ –∫–æ–º–∞–Ω–¥** (HA –ø—É–±–ª–∏–∫—É–µ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è):
   - `turkov/<serial>/command/...` ‚Äî –ø–æ–¥—Ç–æ–ø–∏–∫–∏ –æ–±—ã—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –∏–º–µ–Ω–∞–º–∏ –∏–∑ state (–Ω–∞–ø—Ä–∏–º–µ—Ä `on`, `fan_speed`, `fan_mode`, `temp_sp`). –¢–æ—á–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∑–Ω–∞—á–µ–Ω–∏–π —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Turkov –∏–ª–∏ –≤ –∏—Å—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –ø—Ä–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞/–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

   **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π CO2-–¥–∞—Ç—á–∏–∫ Turkov (–ø—Ä–∏–º–µ—Ä –¥–ª—è –≤–∞—à–µ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏):**
   - –î–ª—è —á—Ç–µ–Ω–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –¥–∞—Ç—á–∏–∫–∞ CO2 –Ω—É–∂–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π MQTT-–±—Ä–æ–∫–µ—Ä (Mosquitto/EMQX –∏ —Ç.–ø.), –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø–æ–¥–∫–ª—é—á–µ–Ω Wi-Fi –º–æ–¥—É–ª—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏.
   - –î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å —Å–µ—Ä–∏–π–Ω—ã–º –Ω–æ–º–µ—Ä–æ–º `X-XXXXXX-XX` –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ø–∏–∫:
     - `turkov/X-XXXXXX-XX/state/CO2_level`
   - –ï—Å–ª–∏ —É –≤–∞—Å —Ä–∞–∑–Ω–µ—Å–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ `!include`, —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ: –Ω–∏–∂–µ –ø—Ä–∏–º–µ—Ä –∏–º–µ–Ω–Ω–æ –±–ª–æ–∫–∞ —Å–µ–Ω—Å–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–æ–ª–æ–∂–∏—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —á–µ—Ä–µ–∑ include.
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–∏–º–µ—Ä —Å–µ–Ω—Å–æ—Ä–∞:
   ```yaml
   mqtt:
     sensor:
       - name: "Turkov_CO2"
         state_topic: "turkov/2-400187-01/state/CO2_level"
         device_class: carbon_dioxide
         state_class: measurement
         unit_of_measurement: "ppm"
   ```

   –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MQTT –≤ HA –º–æ–∂–Ω–æ –∑–∞–≤–µ—Å—Ç–∏ —Å–µ–Ω—Å–æ—Ä—ã –ø–æ state-—Ç–æ–ø–∏–∫–∞–º –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å `mqtt.publish` –≤ —Ç–æ–ø–∏–∫–∏ `command/...`. Blueprint `pvu.yaml` —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ climate-—Å—É—â–Ω–æ—Å—Ç—å (–∏–∑ hass-turkov); –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ç–æ–ª—å–∫–æ MQTT –Ω—É–∂–Ω–æ –ª–∏–±–æ –ø–æ–¥–Ω—è—Ç—å climate —á–µ—Ä–µ–∑ [MQTT Climate](https://www.home-assistant.io/integrations/climate.mqtt/) —Å —ç—Ç–∏–º–∏ —Ç–æ–ø–∏–∫–∞–º–∏, –ª–∏–±–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é –ø–æ–¥ –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã `mqtt.publish`.

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ AirGradient**:
   - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –¥–∞—Ç—á–∏–∫ –∫ —Å–µ—Ç–∏ WiFi
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ MQTT –±—Ä–æ–∫–µ—Ä
   - –î–æ–±–∞–≤—å—Ç–µ —Å–µ–Ω—Å–æ—Ä—ã –≤ Home Assistant

4. **–ò–º–ø–æ—Ä—Ç Blueprint**:
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ñ–∞–π–ª (`pvu_min.yaml` –∏–ª–∏ `pvu.yaml`) –≤ –ø–∞–ø–∫—É `config/blueprints/automation/`
   - –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Home Assistant

   **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –¥–∞—Ç—á–∏–∫–∞–º –≤ `pvu.yaml`**:
   - **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ**: —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏ –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç—å –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏.
   - **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ**: –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏ –Ω–∞—Ä—É–∂–Ω—ã–µ CO‚ÇÇ / PM2.5 / VOC / NOx, –Ω–∞—Ä—É–∂–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, presence).
   - –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–µ–π –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Å–µ–Ω—Å–æ—Ä–æ–≤.

  **–ü–æ–≤–µ–¥–µ–Ω–∏–µ blueprint** (`pvu.yaml`):
  - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–µ–Ω—Ç–∏–ª–∏—Ä—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ (`fan_only` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), –µ—Å–ª–∏ –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω ECO –∏–ª–∏ `away=off`.
  - –ü—Ä–∏ –º–æ—Ä–æ–∑–µ —Å–Ω–∞—Ä—É–∂–∏ (`outdoor < outdoor_vent_min`) –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ `heat` ‚Äî –ø–æ–¥–æ–≥—Ä–µ–≤ –ø—Ä–∏—Ç–æ—á–Ω–æ–≥–æ –≤–æ–∑–¥—É—Ö–∞.
  - –û—Ö–ª–∞–∂–¥–µ–Ω–∏–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∂–∞—Ä–∫–æ–º –ø–æ–º–µ—â–µ–Ω–∏–∏ + –ø–æ–¥—Ö–æ–¥—è—â–µ–π —É–ª–∏—á–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ.
  - –°–∫–æ—Ä–æ—Å—Ç—å –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ (`low/medium/high`) —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ CO2/PM2.5/VOC/NOx/–≤–ª–∞–∂–Ω–æ—Å—Ç–∏.
  - –ù–∞—Ä—É–∂–Ω—ã–µ –¥–∞—Ç—á–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –≤–æ–∑–¥—É—Ö–∞ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç —Ä–∞–∑–≥–æ–Ω —Å–∫–æ—Ä–æ—Å—Ç–∏.
  - –ê–Ω—Ç–∏–∑–∞–º–æ—Ä–æ–∑–∫–∞ —á–µ—Ä–µ–∑ `outdoor_vent_min`, ECO —á–µ—Ä–µ–∑ –ø–æ—Ä–æ–≥–∏ IAQ-–¥–∞—Ç—á–∏–∫–æ–≤.
  - –†–µ–∞–∫—Ü–∏—è –ø–æ –∏–∑–º–µ–Ω–µ–Ω–∏—é –¥–∞—Ç—á–∏–∫–æ–≤ –∏ presence + –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á—ë—Ç –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã.

   **Edge-cases –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ**:
   - –ø—Ä–∏ `climate: unavailable` —Å–µ—Ä–≤–∏—Å–Ω—ã–µ –≤—ã–∑–æ–≤—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è;
   - –ø—Ä–∏ `unknown/unavailable` —É –¥–∞—Ç—á–∏–∫–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fail-safe –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–µ–∑ –ø–∞–¥–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏;
   - –Ω–µ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –≤—ã–±—Ä–æ—Å—ã –¥–∞—Ç—á–∏–∫–æ–≤ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –∏ –Ω–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–µ—à–µ–Ω–∏–π;
   - –µ—Å–ª–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º, –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º.

   **VOC/NOx –≤ AirGradient ‚Äî –∏–Ω–¥–µ–∫—Å—ã, –Ω–µ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏**:
   - –≠—Ç–æ –∏–Ω–¥–µ–∫—Å—ã (–æ–±—ã—á–Ω–æ —à–∫–∞–ª–∞ 1‚Äì500), –∞ –Ω–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ –≥–∞–∑–æ–≤.
   - NOx Index —á–∞—Å—Ç–æ –±–ª–∏–∑–æ–∫ –∫ 1 –≤ ¬´—á–∏—Å—Ç–æ–º¬ª —Ñ–æ–Ω–µ; —Ä–æ—Å—Ç –≤—ã—à–µ 1 –æ–∑–Ω–∞—á–∞–µ—Ç —É—Ö—É–¥—à–µ–Ω–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –±–∞–∑–æ–≤–æ–π –ª–∏–Ω–∏–∏.
   - –ó–Ω–∞—á–µ–Ω–∏—è NOx 2‚Äì3 –æ–±—ã—á–Ω–æ –Ω–µ —Å—á–∏—Ç–∞—é—Ç—Å—è —Ç—Ä–µ–≤–æ–∂–Ω—ã–º–∏; –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–π —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –ø–æ—Ä–æ–≥ ‚Äî –æ–∫–æ–ª–æ 20.
   - –í –ø—Ä–æ–µ–∫—Ç–µ –ø–æ—Ä–æ–≥–∏ –º–æ–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–º–µ—â–µ–Ω–∏—è.

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

1. **–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** (`configuration.yaml`):
   ```yaml
   # –ü—Ä–∏–º–µ—Ä –±–∞–∑–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (Turkov –ø–æ IP —á–µ—Ä–µ–∑ hass-turkov)
   climate:
     - platform: turkov
       name: "PVU"
       modbus_host: 192.168.1.x
       modbus_port: 502

   mqtt:
     sensor:
       - name: "CO2 Level"
         state_topic: "airgradient/co2"
         unit_of_measurement: "ppm"
       - name: "Humidity"
         state_topic: "airgradient/humidity"
         unit_of_measurement: "%"
       - name: "PM2.5"
         state_topic: "airgradient/pm25"
         unit_of_measurement: "¬µg/m¬≥"

   ```

   **–ü—Ä–∏–º–µ—Ä —Å–µ–Ω—Å–æ—Ä–æ–≤ Turkov –ø–æ MQTT** (–ø–æ–¥—Å—Ç–∞–≤—å—Ç–µ —Å–≤–æ–π —Å–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä –≤–º–µ—Å—Ç–æ `X-XXXXXX-XX`):
   ```yaml
   mqtt:
     sensor:
       - name: "Turkov —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏"
         state_topic: "turkov/X-XXXXXX-XX/state/indoor_temperature"
         unit_of_measurement: "¬∞C"
         device_class: temperature
       - name: "Turkov –≤–ª–∞–∂–Ω–æ—Å—Ç—å –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏"
         state_topic: "turkov/X-XXXXXX-XX/state/indoor_humidity"
         unit_of_measurement: "%"
         device_class: humidity
       - name: "Turkov —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Å —É–ª–∏—Ü—ã"
         state_topic: "turkov/X-XXXXXX-XX/state/outdoor_temperature"
         unit_of_measurement: "¬∞C"
         device_class: temperature
       - name: "Turkov —Å—Ç–∞—Ç—É—Å"
         state_topic: "turkov/X-XXXXXX-XX/status"
   ```

2. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏** (`automations.yaml`):
   ```yaml
   - alias: "PVU Turkov Auto"
     use_blueprint:
       path: Gfermoto/pvu.yaml
       input:
         turkov_climate: climate.pvu
         temp_indoor: sensor.indoor_temperature
         humidity_indoor: sensor.indoor_humidity
         temp_outdoor: sensor.outdoor_temperature
         co2_sensor: sensor.indoor_co2
         presence_home: person.user
   ```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Home Assistant OS/Core **2023.12.0+**
- HACS
- MQTT-–±—Ä–æ–∫–µ—Ä (Mosquitto –∏–ª–∏ –∞–Ω–∞–ª–æ–≥) ‚Äî –µ—Å–ª–∏ –¥–∞—Ç—á–∏–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –ø–æ MQTT

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –∫–∞—á–µ—Å—Ç–≤–æ

- –ê–ª–≥–æ—Ä–∏—Ç–º –∏ —Å—Ö–µ–º—ã –ª–æ–≥–∏–∫–∏: [`docs/LOGIC.md`](./docs/LOGIC.md)
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–≤: [`CONTRIBUTING.md`](./CONTRIBUTING.md)
- –†–µ–ª–∏–∑–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç: [`docs/RELEASE_CHECKLIST.md`](./docs/RELEASE_CHECKLIST.md)
- –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞: [`docs/ROADMAP.md`](./docs/ROADMAP.md)
- –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –ø–æ—Ä–æ–≥–æ–≤ –ø–æ —Ä–µ–∞–ª—å–Ω—ã–º –¥–∞–Ω–Ω—ã–º: [`docs/TUNING.md`](./docs/TUNING.md)
- –®–∞–±–ª–æ–Ω –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ Lovelace-–¥–∞—à–±–æ—Ä–¥–∞: [`airflow_dashboard.yaml`](./airflow_dashboard.yaml)
- –û–±–ª–µ–≥—á–µ–Ω–Ω—ã–π –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –¥–∞—à–±–æ—Ä–¥: [`airflow_dashboard_min.yaml`](./airflow_dashboard_min.yaml)
- –®–∞–±–ª–æ–Ω –¥–ª—è —Ä–µ–∂–∏–º–∞ `Manual card` (–ø–æ–ª–Ω—ã–π): [`airflow_card.yaml`](./airflow_card.yaml)
- –®–∞–±–ª–æ–Ω –¥–ª—è —Ä–µ–∂–∏–º–∞ `Manual card` (–æ–±–ª–µ–≥—á–µ–Ω–Ω—ã–π): [`airflow_card_min.yaml`](./airflow_card_min.yaml)
- KPI-–ø–∞–∫–µ—Ç –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ—Ä–æ–≥–æ–≤ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö: [`airflow_kpi_package.yaml`](./airflow_kpi_package.yaml)
- FAQ: [`docs/FAQ.md`](./docs/FAQ.md)
- –®–∞–±–ª–æ–Ω—ã issues: [`.github/ISSUE_TEMPLATE`](./.github/ISSUE_TEMPLATE)
- –ë–∞–∑–æ–≤–∞—è CI-–≤–∞–ª–∏–¥–∞—Ü–∏—è (Markdown/YAML): [`.github/workflows/validate.yml`](./.github/workflows/validate.yml)

### –ò–º–ø–æ—Ä—Ç Lovelace –±–µ–∑ –æ—à–∏–±–æ–∫

- –î–ª—è **—Ü–µ–ª–æ–≥–æ –¥–∞—à–±–æ—Ä–¥–∞** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª—ã `airflow_dashboard*.yaml` –∏ –≤—Å—Ç–∞–≤–ª—è–π—Ç–µ –∏—Ö —á–µ—Ä–µ–∑ **–ü–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ YAML**.
- –î–ª—è **—Ä—É—á–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª—ã `airflow_card.yaml` / `airflow_card_min.yaml` –∏ –≤—Å—Ç–∞–≤–ª—è–π—Ç–µ –∏—Ö –≤ **Manual card**.
- –û—à–∏–±–∫–∞ `No card type configured` –æ–±—ã—á–Ω–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ YAML —Ü–µ–ª–æ–≥–æ –¥–∞—à–±–æ—Ä–¥–∞ –≤—Å—Ç–∞–≤–ª–µ–Ω –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä –æ–¥–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏.

### –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ KPI-–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ `airflow_kpi_package.yaml` –∫–∞–∫ package –≤ Home Assistant.
- –ó–∞–º–µ–Ω–∏—Ç–µ `entity_id` –≤ –ø–∞–∫–µ—Ç–µ –ø–æ–¥ —Å–≤–æ–∏ —Å–µ–Ω—Å–æ—Ä—ã –∏ climate-—Å—É—â–Ω–æ—Å—Ç—å.
- –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–æ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:
  - `sensor.airflow_*_ok_percent_24h` ‚Äî –¥–æ–ª—è –≤—Ä–µ–º–µ–Ω–∏ –≤ —Ü–µ–ª–µ–≤–æ–π –∑–æ–Ω–µ;
  - `sensor.airflow_boost_fan_percent_24h` ‚Äî –¥–æ–ª—è –≤—Ä–µ–º–µ–Ω–∏ fan –≤ `medium/high`.

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
- GitHub Issues: [—Å–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ](https://github.com/Gfermoto/hass-PVU/issues)
- Telegram –∫–∞–Ω–∞–ª—ã:
  * [DIYIoT_Lab](https://t.me/DIYIoT_Lab) - –ù–æ–≤–æ—Å—Ç–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞
  * [DIYIoT_Zone](https://t.me/DIYIoT_Zone) - –°–æ–æ–±—â–µ—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ —ç–Ω—Ç—É–∑–∏–∞—Å—Ç–æ–≤

### –õ–∏—Ü–µ–Ω–∑–∏—è
[MIT License](./LICENSE)

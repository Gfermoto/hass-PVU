# Release Checklist

Чеклист перед релизом `pvu.yaml` / `pvu_min.yaml`.

## 1) Логика и совместимость

- [ ] Blueprint импортируется в Home Assistant без ошибок.
- [ ] Проверены оба файла: `pvu_min.yaml` и `pvu.yaml`.
- [ ] Проверены значения в `select.options` (строковые `off`, `maintain` и т.д.).
- [ ] Проверены `supported_hvac_modes` / `supported_fan_modes` проверки.
- [ ] Проверены оба формата атрибутов режимов: список и строковое представление списка/enum.
- [ ] В `debug_mode` видны причины `apply/unsupported/already_set/min_interval_hold` для HVAC и FAN.

## 2) Сценарии smoke-test

- [ ] Базовый сценарий: только обязательные датчики (`temp_indoor`, `humidity_indoor`).
- [ ] Критичный сценарий: `away=off` -> снятие охраны -> возврат в `heat`/рабочий режим проходит корректно.
- [ ] `away_behavior=maintain` корректно держит `temp_away`.
- [ ] `away_behavior=off` корректно выключает установку.
- [ ] Переходы day/night работают по расписанию.
- [ ] Включение/выключение усиления по влажности.
- [ ] Реакция на CO2/PM2.5/VOC/NOx (если датчики подключены).
- [ ] При плохом наружном воздухе разгон ограничивается.

### 2.1) Сезонные сценарии (регулярная практика)

- [ ] Зима: anti-freeze логика и ограничения `fan_only/cooling` отрабатывают корректно.
- [ ] Межсезонье: нет лишних переключений HVAC при пограничной наружной температуре.
- [ ] Лето: охлаждение включается только при выполнении всех условий и без "пилы".
- [ ] Сезонный smoke-test выполняется регулярно (минимум раз в сезон).

## 3) Защитные edge-cases

- [ ] `climate` в `unavailable` не вызывает сервисы.
- [ ] `unknown/unavailable` у датчиков не ломают шаблоны.
- [ ] Антизаморозка: `fan_only` блокируется ниже `outdoor_vent_min`.
- [ ] Для develop: `outdoor_temp_policy=conservative` блокирует `cooling/fan_only` при неизвестной улице.
- [ ] Для develop: `debug_mode` создаёт диагностические уведомления.

## 4) Документация

- [ ] `CHANGELOG.md` обновлён.
- [ ] `README.md` отражает актуальное поведение.
- [ ] Примеры в `README.md` валидны и актуальны.

## 5) Репозиторий и публикация

- [ ] Коммиты сгруппированы по смыслу.
- [ ] Тэг релиза создан (если нужен релиз).
- [ ] Подготовлен короткий анонс (TG/статья) при необходимости.
